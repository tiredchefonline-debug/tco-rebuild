const navToggle = document.querySelector('.nav-toggle'); const navMenu = document.querySelector('#nav-menu'); if (navToggle && navMenu){ navToggle.addEventListener('click', () => { const open = navMenu.classList.toggle('open'); navToggle.setAttribute('aria-expanded', open ? 'true' : 'false'); }); } document.querySelectorAll('.nav-item.has-children > .nav-link').forEach(link => { link.addEventListener('click', (e) => { e.preventDefault(); const li = e.currentTarget.parentElement; li.classList.toggle('open'); }); }); document.addEventListener('click', (e) => { const isDropdown = e.target.closest('.nav-item.has-children'); document.querySelectorAll('.nav-item.has-children').forEach(li => { if (li !== isDropdown) li.classList.remove('open'); }); }); (function(){ const wrap = document.querySelector('.footer-map .map-frame'); if (!wrap) return; const iframe = wrap.querySelector('iframe.online-map'); const fallback = wrap.querySelector('.offline-fallback'); function showFallback(){ if (iframe) iframe.style.display = 'none'; if (fallback) fallback.style.display = 'flex'; } function showIframe(){ if (fallback) fallback.style.display = 'none'; if (iframe) iframe.style.display = 'block'; } if (!navigator.onLine) { showFallback(); } else { let loaded = false; iframe.addEventListener('load', ()=>{ loaded = true; showIframe(); }, {once:true}); setTimeout(()=>{ if (!loaded) showFallback(); }, 3000); } window.addEventListener('online', showIframe); window.addEventListener('offline', showFallback); })(); (function(){ const el = document.getElementById('kw'); if (!el) return; let arr; try { arr = JSON.parse((el.getAttribute('data-keywords') || '[]').replaceAll('&quot;','"')); } catch(e){ arr = []; } if (!arr || !arr.length) arr = ["Local SEO","Google Maps Ranking","Social Media Marketing","Website Design","Reputation Management"]; let i = 0; el.textContent = arr[i]; function next(){ const curr = el.textContent; el.classList.remove('kw-slide-enter','kw-slide-enter-active','kw-slide-exit','kw-slide-exit-active'); el.classList.add('kw-slide-exit'); requestAnimationFrame(()=>{ el.classList.add('kw-slide-exit-active'); setTimeout(()=>{ i = (i + 1) % arr.length; el.textContent = arr[i]; el.classList.remove('kw-slide-exit','kw-slide-exit-active'); el.classList.add('kw-slide-enter'); requestAnimationFrame(()=>{ el.classList.add('kw-slide-enter-active'); }); }, 300); }); } setInterval(next, 2200); })();